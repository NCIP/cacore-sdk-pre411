<?xml version="1.0" encoding="UTF-8"?>
	<!-- ****************************************************************************************************-->
	<!--                                     caCORE ToolKit Demo Build Script					                 -->
	<!-- ****************************************************************************************************-->


	<project name="caCORE Toolkit Client Demo" default = "rundemo" basedir=".">

	    <property name="conf.dir" value="conf" />
	    <property name="lib.dir" value="lib" />
	    <property name="src.dir" value="." />

		<path id="cp">
			<fileset dir="lib">
				<include name="**/*.jar"/>
			</fileset>
			<pathelement path="${conf.dir}"/>
		</path>

		<!-- ************************************************************************************************-->
		<!--                                             Run Demo                                          -->
		<!-- ************************************************************************************************-->

		<target name="rundemo">
			<javac srcdir="." >
				<include name="TestClient.java"/>
				<classpath refid="cp"/>
				<classpath>
			  		<pathelement location="${src.dir}"/>
				</classpath>
			</javac>
			<java classname="TestClient" fork="true">
				<classpath refid="cp"/>
				<classpath>
			  		<pathelement location="${src.dir}"/>
				</classpath>
				<sysproperty key="log4j.configuration"
								value="${conf.dir}/client_log4j.properties"/>
			</java>

		</target>
		<!-- ************************************************************************************************-->
				<!--                                             Run Demo                                          -->
				<!-- ************************************************************************************************-->

				<target name="runxmltest">
					<javac srcdir="." >
						<include name="TestXML.java"/>
						<classpath refid="cp"/>
						<classpath>
					  		<pathelement location="${src.dir}"/>
						</classpath>
					</javac>
					<java classname="TestXML" fork="true">
						<classpath refid="cp"/>
						<classpath>
					  		<pathelement location="${src.dir}"/>
						</classpath>
						<sysproperty key="log4j.configuration"
										value="${conf.dir}/client_log4j.properties"/>
					</java>

				</target>
		

		<!-- ************************************************************************************************-->
				<!--                                             Run Web Services Test                                          -->
				<!-- ************************************************************************************************-->

					<target name="runws">
						<javac srcdir="." >
							<include name="WSTestClient.java"/>
							<classpath refid="cp"/>
							<classpath>
						  		<pathelement location="${src.dir}"/>
							</classpath>
						</javac>
						<java classname="WSTestClient" fork="true">
							<classpath refid="cp"/>
							<classpath>
						 		<pathelement location="${src.dir}"/>
							</classpath>
							<sysproperty key="log4j.configuration"
											value="${conf.dir}/client_log4j.properties"/>
						</java>

		</target>
		
		<!-- ************************************************************************************************-->
				<!--                                             Deploy web services                                        -->
				<!-- ************************************************************************************************-->

				<target name="deploy">					
						<java classname="org.apache.axis.client.AdminClient" fork="true">
						<classpath refid="cp"/>
							<classpath>
							<pathelement location="${src.dir}"/>					
						</classpath>				
						<arg value="@AXIS_SERVICE@"/>
						<arg value="${conf.dir}/deploy.wsdd"/>				
						<sysproperty key="log4j.configuration" value="${conf.dir}/client_log4j.properties"/>
						</java>

				</target>
				


			
	</project>